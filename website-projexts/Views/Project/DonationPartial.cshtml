@using website_projexts.Models
@model List<Donation>

@Styles.Render("~/Content/css")
@Scripts.Render("~/bundles/modernizr")
@Scripts.Render("~/bundles/bootstrap")
@Scripts.Render("~/bundles/jquery")
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

@if (Model != null)
{

    <div class="card">
        <div class="body">
            @foreach (var donation in Model)
            {
                <div class="d-flex align-items-center">
                    <i class="fa fa-heart" style="margin-left: 20px;"></i>
                    <div style="margin-left: 20px;">
                        <strong>
                            @donation.User.UserName
                        </strong>
                        <div class="d-flex" style="height: 30px;">
                            <p>
                                @donation.Donated₫
                            </p>
                            <p><span style="color: rgb(200, 200, 200);">&nbsp;•&nbsp;</span></p>
                            <p>
                                <span id="timeAgo"></span>
                                days ago
                            </p>
                        </div>
                    </div>
                </div>
                <p>
                    <span style="color: rgb(51, 51, 51);">
                        @donation.DonationText
                    </span>
                </p>
                <script>
                     // Get the PostedTime from your model
                     var postedTime = new Date("@donation.DonationTime");

                     // Calculate the time difference
                     var currentTime = new Date();
                     var timeDifference = currentTime - postedTime;
                     var daysAgo = Math.floor(timeDifference / (1000 * 60 * 60 * 24));

                     // Display the result
                     var timeAgoElement = document.getElementById("timeAgo");
                     timeAgoElement.textContent = daysAgo + " days ago";
                 </script>
            }
        </div>
    </div>
}

